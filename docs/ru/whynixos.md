---
title: Зачем использовать Nix/NixOS?
---

Резонный вопрос! Зачем всё это использовать? Зачем отказываться от всего, что вы знаете о Linux, и использовать эту нишевую операционную систему? Что ж, чтобы понять, мы должны сперва рассмотреть преимущества Nix, мощного пакетного менеджера, на котором основана NixOS.

Преимущества Nix:

- **Хранилище Nix**: Nix хранит все пакеты в специальной директории `/nix/store`. Каждый пакет и его зависимости создаются и хранятся в этом хранилище в виде уникального хэша. Хранилище доступно только для чтения, поэтому никакие изменения не могут быть внесены без специальных команд, даже от имени пользователя root!
- **Атомарные обновления**: когда пакеты, установленные с помощью Nix, нуждаются в обновлении, Nix не позволит обновить их, если хотя бы один из них не соберётся. Такой подход искореняет проблему повреждённых пакетов. Если пакет не собирается, просто дождитесь следующего обновления, исправляющего это! Обычно это занимает всего пару дней, в течение которых ваша система будет полностью работоспособна и не выйдет из строя.
- **Воспроизводимые сборки**: пакет, собранный Nix, будет одинаковым независимо от системы, на которой он собран.
- **Единый пакетный менеджер для управления всем**: устали использовать NPM, pip, AUR и все эти разнообразные пакетные менеджеры? Мы тоже устали! Вот почему мы очень рады сообщить, что Nix содержит более 100 000 пакетов для установки и является лидером по скорости обновления среди всех существующих пакетных менеджеров! Мы любим думать об этом как о 34 правиле пакетных менеджеров: если ytxnj существует, или его можно представить, значит, оно уже есть или будет в nixpkgs.
- **Отлично подходит для разработки**: разработка - основная причина существования Nix! С помощью таких инструментов, как direnv, создание сред разработки становится простым делом и позволяет использовать все приемущества, предлагаемые Nix.
- **Легко пробовать новые пакеты с помощью `nix shell` или `nix run`, не устанавливая их**: вы когда-нибудь хотели опробовать программу, скажем, из KDE? В других системах для этого требуется установка всех зависимостей от KDE. После этого, если вам не понравилась программа и вы удалите её, эти зависимости всё равно останутся на вашей системе. С помощью вышеперечисленных команд вы можете быстро и эффективно пробовать любую программу, которую захотите. Она вам не нравится? Нет проблем! Когда вы её удалите, в вашей системе не останется следов её установки.
- **Использование кэширования**: Nix автоматически собирает пакеты в своём репозитории удалённо, позволяя избегать компиляции чего-либо в nixpkgs! Хотите кэширование сборок вашей собственной программы? Вы можете легко настроить его!
- **Портативность**: Nix работает на чём угодно: Linux, macOS, WSL. Существует даже проект под названием nix-on-droid, позволяющий использовать Nix на Android.
- **Возможность сочетания разных версий пакетов без конфликтов**: поскольку пакеты собираются независимо друг от друга, зависимостей и всего, вы можете устанавливать несколько версий пакета. Это не что-то, требующее настройки, это просто Nix.

Итак, теперь, когда вы знаете, почему вам следует использовать Nix, зачем использовать NixOS?

Преимущества NixOS:

- **Декларативная конфигурация**: главной особенностью NixOS, помимо пакетного менеджера, является модульная система. Модули - довольно причудливый термин для обозначения параметров. В вашей конфигурации NixOS вы можете ссылаться на тысячи модулей, предлагаемых NixOS. Это даёт два преимущества:
  - **_Простая настройка_**: прошли те времена, когда сервисы настраивались вручную или с помощью контейнеров Docker. В NixOS, пока существует модуль, вы можете делать всё это с помощью нескольких строчек кода.
  - **_Проще поддерживать конфигурацию_**: поскольку ваша конфигурация представляет собой несколько строк кода и всегда находится в той директории, в которой вы её оставили, нет необходимости прописывать множество команд в попытке решить какую-то проблему. Всё, что вам нужно сделать, - изменить некоторые значения в вашей конфигурации NixOS.
- **Воспроизводимость системы**: это одна из ключевых особенностей NixOS: вывод воспроизводимости Nix на уровень операционной системы. Вы можете хранить резервную копию своей конфигурации в git репозитории и развернуть её на любом количестве компьютеров, и каждый раз это будет одна и та же операционная система, за исключением вашей домашней директории. Это значительно упрощает резервное копирование.
- **Откаты "из коробки"**: ещё одна ключевая особенность NixOS и любого неизменяемого дистрибутива. В вашей текущей системой есть какие-то ошибки? Нет проблем! Просто откатитесь к предыдущей системе либо из терминала, либо во время загрузки, и всё!
- **Параметры конфигурации для многих программ и сервисов**: в NixOS имеются тысячи модулей и опций на выбор, и все они написаны на одном языке.
- **Отсутствие побочных эффектов: фактическое удаление пакетов и их зависимостей**: поскольку зависимости устанавливаются и хранятся вместе с пакетами, которые в них нуждаются, гарантируется, что при удалении пакета не останется никаких его зависимостей. Любые бесполезные директории в хранилище могут быть очищены с помощью `nix-collect-garbage`.
- **Простота создания виртуальных машин**: вы можете легко настроить QEMU/KVM с помощью модуля! Больше не нужно возиться с systemd или неуклюжим графическим интерфейсом. Nix может это сделать за вас!
- **Пробуйте другие конфигурации**: помните `nix shell` and `nix run`? Обе эти команды также могут создавать конфигурации из URL-адреса! Просто укажите на git репозиторий, где находится конфигурация, и Nix сделает всё остальное.

Если что-то из этого вас заинтересовало, переходите к следующей странице, где мы расскажем, как установить NixOS на ваш компьютер.
